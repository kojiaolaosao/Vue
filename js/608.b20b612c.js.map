{"version":3,"file":"js/608.b20b612c.js","mappings":"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","sources":["webpack://vue_echarts/./src/views/ScoreTableView.vue","webpack://vue_echarts/./src/views/ScoreTableView.vue?3e1a"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>{{ recordInfo.title }}</h1>\r\n        <div>\r\n            <div>{{ recordInfo.info }}</div>\r\n            <span style=\"font-size: small;color: #b4b4b4;\">{{ recordInfo.createdTime }}</span>\r\n        </div>\r\n        <div>\r\n            <el-table :data=\"scores\" show-summary :summary-method=\"getSummaries\">\r\n                <el-table-column type=\"index\" width=\"100\"></el-table-column>\r\n                <el-table-column label=\"姓名\" sortable>\r\n                    <template #default=\"scope\">\r\n                        <router-link :to=\"{path:'/showScoreView', query: { id:  scope.row.studentId }}\" type=\"success\">\r\n                            <el-tooltip\r\n                                class=\"box-item\"\r\n                                effect=\"dark\"\r\n                                content=\"查看历史成绩图表\"\r\n                                placement=\"bottom\"\r\n                            >\r\n                                <span style=\"font-weight: bold\">{{ scope.row.name }}</span>\r\n                            </el-tooltip>\r\n                        </router-link>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column sortable v-for=\"it in colItems\" :prop=\"it.prop\" :label=\"it.label\"/>\r\n            </el-table>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/axios\";\r\n\r\nexport default {\r\n    name: \"ScoreTableView\",\r\n    data() {\r\n        return {\r\n            recordId: this.$route.query.id,\r\n            recordInfo: {},\r\n            scores: [],\r\n            colItems: [\r\n                // {label:'姓名',prop:'name'},\r\n                {label: '总分', prop: 'totalScore'},\r\n                {label: '语文', prop: 'languages'},\r\n                {label: '数学', prop: 'maths'},\r\n                {label: '英语', prop: 'englishes'},\r\n                {label: '附加', prop: 'addition'},\r\n                {label: '物理', prop: 'physicals'},\r\n                {label: '历史', prop: 'history'},\r\n                {label: '地理', prop: 'geography'},\r\n                {label: '地赋', prop: 'geographyReal'},\r\n                {label: '政治', prop: 'politics'},\r\n                {label: '政赋', prop: 'politicsReal'},\r\n                {label: '化学', prop: 'chemicals'},\r\n                {label: '化赋', prop: 'chemicalsReal'},\r\n                {label: '生物', prop: 'biological'},\r\n                {label: '生赋', prop: 'biologicalReal'},\r\n                {label: '班级名次', prop: 'classRank'},\r\n                {label: '年级排名', prop: 'gradeRank'},\r\n            ],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getScoreRecords();\r\n    },\r\n    methods: {\r\n        getScoreRecords() {\r\n            axios.get('/score/getScores/' + this.$route.query.id).then(res => {\r\n                this.recordInfo = res.data.data;\r\n                this.scores = res.data.data.recordEntities;\r\n                this.filterItems();\r\n                console.log(this.scores);\r\n            })\r\n        },\r\n        filterItems() {\r\n            let map = new Map();\r\n            for (let sk in this.scores[0]) {\r\n                map.set(sk, false);\r\n            }\r\n            this.scores.forEach(s => {\r\n                for (let sk in s) {\r\n                    if (s[sk] !== 0) map.set(sk, true);\r\n                }\r\n            })\r\n            console.log(map);\r\n            this.colItems = this.colItems.filter(it => {\r\n                return map.get(it.prop);\r\n            });\r\n        },\r\n        //合计行\r\n        getSummaries(param) {\r\n            const {columns, data} = param;\r\n            const sums = [];\r\n            columns.forEach((column, index) => {\r\n                if (index === 0) {\r\n                    sums[index] = '平均分';\r\n                    return;\r\n                }\r\n                const values = data.map(item => Number(item[column.property]));\r\n                if (!values.every(value => isNaN(value)) && column.property !== 'gradeRank' && column.property !== 'classRank') {\r\n                    sums[index] = values.reduce((prev, curr) => {\r\n                        const value = Number(curr);\r\n                        if (!isNaN(value))\r\n                            return prev + curr;\r\n                        else\r\n                            return prev;\r\n                    }, 0);\r\n                    sums[index] = Math.round(sums[index] / values.length * 100) / 100;\r\n                } else {\r\n                    sums[index] = ' ';\r\n                }\r\n            });\r\n\r\n            return sums;\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./ScoreTableView.vue?vue&type=template&id=6a82805e\"\nimport script from \"./ScoreTableView.vue?vue&type=script&lang=js\"\nexport * from \"./ScoreTableView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\WebstormProjects\\\\vue_echarts\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","_createElementBlock","_createElementVNode","$data","title","info","_hoisted_1","createdTime","_createVNode","_component_el_table","data","$options","_component_el_table_column","type","width","label","sortable","default","scope","_component_router_link","to","path","query","id","row","studentId","_component_el_tooltip","class","effect","content","placement","_hoisted_2","name","_Fragment","it","_createBlock","prop","recordId","this","$route","recordInfo","scores","colItems","mounted","getScoreRecords","methods","axios","then","res","recordEntities","filterItems","console","log","map","Map","sk","set","forEach","s","filter","get","getSummaries","param","columns","sums","column","index","values","item","Number","property","every","value","isNaN","reduce","prev","curr","Math","round","length","__exports__","render"],"sourceRoot":""}