"use strict";(self["webpackChunkvue_echarts"]=self["webpackChunkvue_echarts"]||[]).push([[608],{6608:function(e,l,o){o.r(l),o.d(l,{default:function(){return d}});var t=o(3396),r=o(7139);const a={style:{"font-size":"small",color:"#b4b4b4"}},s={style:{"font-weight":"bold"}};function p(e,l,o,p,c,n){const i=(0,t.up)("el-table-column"),u=(0,t.up)("el-tooltip"),d=(0,t.up)("router-link"),m=(0,t.up)("el-table");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("h1",null,(0,r.zw)(c.recordInfo.title),1),(0,t._)("div",null,[(0,t._)("div",null,(0,r.zw)(c.recordInfo.info),1),(0,t._)("span",a,(0,r.zw)(c.recordInfo.createdTime),1)]),(0,t._)("div",null,[(0,t.Wm)(m,{data:c.scores,"show-summary":"","summary-method":n.getSummaries},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{type:"index",width:"100"}),(0,t.Wm)(i,{label:"姓名",sortable:""},{default:(0,t.w5)((e=>[(0,t.Wm)(d,{to:{path:"/showScoreView",query:{id:e.row.studentId}},type:"success"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"box-item",effect:"dark",content:"查看历史成绩图表",placement:"bottom"},{default:(0,t.w5)((()=>[(0,t._)("span",s,(0,r.zw)(e.row.name),1)])),_:2},1024)])),_:2},1032,["to"])])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.colItems,(e=>((0,t.wg)(),(0,t.j4)(i,{sortable:"",prop:e.prop,label:e.label},null,8,["prop","label"])))),256))])),_:1},8,["data","summary-method"])])])}var c=o(6565),n={name:"ScoreTableView",data(){return{recordId:this.$route.query.id,recordInfo:{},scores:[],colItems:[{label:"总分",prop:"totalScore"},{label:"语文",prop:"languages"},{label:"数学",prop:"maths"},{label:"英语",prop:"englishes"},{label:"附加",prop:"addition"},{label:"物理",prop:"physicals"},{label:"历史",prop:"history"},{label:"地理",prop:"geography"},{label:"地赋",prop:"geographyReal"},{label:"政治",prop:"politics"},{label:"政赋",prop:"politicsReal"},{label:"化学",prop:"chemicals"},{label:"化赋",prop:"chemicalsReal"},{label:"生物",prop:"biological"},{label:"生赋",prop:"biologicalReal"},{label:"班级名次",prop:"classRank"},{label:"年级排名",prop:"gradeRank"}]}},mounted(){this.getScoreRecords()},methods:{getScoreRecords(){c.Z.get("/score/getScores/"+this.$route.query.id).then((e=>{this.recordInfo=e.data.data,this.scores=e.data.data.recordEntities,this.filterItems(),console.log(this.scores)}))},filterItems(){let e=new Map;for(let l in this.scores[0])e.set(l,!1);this.scores.forEach((l=>{for(let o in l)0!==l[o]&&e.set(o,!0)})),console.log(e),this.colItems=this.colItems.filter((l=>e.get(l.prop)))},getSummaries(e){const{columns:l,data:o}=e,t=[];return l.forEach(((e,l)=>{if(0===l)return void(t[l]="平均分");const r=o.map((l=>Number(l[e.property])));r.every((e=>isNaN(e)))||"gradeRank"===e.property||"classRank"===e.property?t[l]=" ":(t[l]=r.reduce(((e,l)=>{const o=Number(l);return isNaN(o)?e:e+l}),0),t[l]=Math.round(t[l]/r.length*100)/100)})),t}}},i=o(89);const u=(0,i.Z)(n,[["render",p]]);var d=u}}]);
//# sourceMappingURL=608.b20b612c.js.map